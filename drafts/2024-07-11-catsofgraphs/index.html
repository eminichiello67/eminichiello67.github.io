<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>The Category of Simple Graphs | Emilio Minichiello</title>
    <meta name="author" content="Emilio  Minichiello">
    <meta name="description" content="We play around with some simple graphs to get a feel for their category.">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://eminichiello67.github.io/drafts/2024-07-11-catsofgraphs/">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class=" ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm sticky-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/">Emilio Minichiello</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item ">
                <a class="nav-link" href="/blog/">blog</a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">research</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/talks/">talks</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/notes/">notes</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">The Category of Simple Graphs</h1>
    <p class="post-meta">July 11, 2024</p>
    <p class="post-tags">
      <a href="/blog/2024"> <i class="fas fa-calendar fa-sm"></i> 2024 </a>
        ·  
        <a href="/blog/tag/graphs-category-theory">
          <i class="fas fa-hashtag fa-sm"></i> graphs, category-theory</a>  
          
        ·  
        <a href="/blog/category/math">
          <i class="fas fa-tag fa-sm"></i> math</a>  
          

    </p>
  </header>

  <article class="post-content">
    
    <div id="markdown-content">
      <p>I’ve been trying to learn more about algorithms and computer science lately, and so wanted to nail down how to do some simple categorical constructions with graphs.</p>

<p>Interestingly, subtleties appear immediately. The biggest one is: what do you mean by a graph?</p>

<p>There’s a ton of different notions of graphs, each with their own uses and conventions. For right now, I’m mainly interested in undirected graphs with at most one edge between two vertices and no loops. These kinds of graphs are often called <strong>simple graphs</strong>, and they seem (at least upon my beginner knowledge) to be slightly more central to algorithms and computer science than directed graphs, or graphs with multiple edges (also called multigraphs).</p>

<p>Now there’s quite a bit written about this zoo of kinds of graphs, such as the thesis <a href="https://scholarworks.umt.edu/cgi/viewcontent.cgi?referer=&amp;httpsredir=1&amp;article=1986&amp;context=etd" rel="external nofollow noopener" target="_blank">The Categories of Graphs</a><sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> and this <a href="https://ncatlab.org/nlab/show/graph" rel="external nofollow noopener" target="_blank">nlab page</a>, so I won’t talk too much about it. Here’s a table summarizing the graphs in the nlab article.</p>

<table>
  <thead>
    <tr>
      <th>Graph</th>
      <th>directed</th>
      <th>multiple edges</th>
      <th>loops</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>simple graph</td>
      <td>No</td>
      <td>No</td>
      <td>No</td>
    </tr>
    <tr>
      <td>multigraph</td>
      <td>No</td>
      <td>Yes</td>
      <td>No</td>
    </tr>
    <tr>
      <td>loop graph</td>
      <td>No</td>
      <td>No</td>
      <td>$\leq 1$</td>
    </tr>
    <tr>
      <td>pseudograph</td>
      <td>No</td>
      <td>Yes</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>directed graph</td>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
    </tr>
    <tr>
      <td>directed multigraph</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>No</td>
    </tr>
    <tr>
      <td>directed loop graph</td>
      <td>Yes</td>
      <td>No</td>
      <td>$\leq 1$</td>
    </tr>
    <tr>
      <td>directed pseudograph</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<p><strong>Caveat:</strong> Pseudographs can have <em>multiple loops</em> on a vertex. We assume (directed) loop graphs can have at most <em>one</em> loop on a vertex.</p>

<p>Category theorists are probably most used to working with directed pseudographs, since categories are directed pseudographs with extra structure (identity loops and composition).</p>

<p>Right off the bat, let us note that the category $\mathsf{DPGrph}$ of directed pseudographs is super nice. Indeed, if we let $(* \rightrightarrows <em>)$ denote the category with two objects $E$ and $V$ and two non-identity morphisms $s, t : E \to V$, then a directed pseudograph is the same thing as a functor $G : (</em> \rightrightarrows <em>) \to \mathbf{Set}$. Thus $\mathsf{DPGrph} = \mathbf{Set}^{</em> \rightrightarrows *}$ is a Grothendieck topos, in particular it is a copresheaf category, really the nicest kind of category around. Doing any sort of construction in this category should be dumb simple, as (co)limits in copresheaf categories are computed objectwise<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup>.</p>

<p>So let’s get into the math. By a simple graph $G$, what I mean is a set $V(G)$ of <strong>vertices</strong> equipped with a binary, irreflexive, symmetric relation $(E(G) \subseteq V(G)^2)$, called the <strong>edge relation</strong>. So if $u,v \in V$, then $(u,v) \in E(G)$, which we will also write as $uv$ or $u \sim v$ if there is an edge connecting $u$ and $v$.</p>

<p>A map $f: G \to G’$ of simple graphs is a function $V(f): V(G) \to V(G’)$ such that if $uv \in E(G)$, then $f(u)f(v) \in E(G’)$. This gives us the category $\mathsf{Grph}$ of simple graphs.</p>

<p>But wait…this isn’t actually what we want! There’s a small, kind of annoying thing we notice right away from this definition. With the above definition, the two inclusions $* \to [<em>-</em>]$ of a simple graph with one vertex and no edges into the simple graph with two vertices and one edge are morphisms, which is good. However, there is <strong>no</strong> morphism in the other direction $[<em>-</em>] \to *$. This is because if we call the first graph $G$ with vertices $u$ and $v$ and the second graph $G’$ with single vertex $w$, then $uv \in E(G)$, but since $E(G’)$ is irreflexive, $ww \notin E(G’)$. Thus the function sending $u$ and $v$ to $w$ does not define a morphism of simple graphs.</p>

<p>So basically, with the most naive definition above, morphisms of simple graphs cannot collapse edges. Now this might be reasonable for your particular use case, but I don’t know, I’d like to consider some cases where you can collapse edges, that seems more natural and fun to me.</p>

<p>Alright, so let’s redo this. Lets redefine a simple graph $G$ to consist of a set $V(G)$ of vertices and a binary, <strong>reflexive</strong>, symmetric relation $(E(G) \subseteq V(G)^2)$. So technically, these are different mathematical objects. You might visualize them as undirected graphs with unique edges and where every vertex has exactly one loop. But this is kinda silly. I can’t map these loops to anything other than the unique loop where I send the underlying vertex to, so it might as well be like they aren’t there. It makes more sense to just identify these with the intuitive notion of a simple graph: undirected, unique edges, no loops, and just allow morphisms to collapse edges. Lets call the objects of $\mathsf{Grph}$ just <em>graphs</em> from now on.</p>

<p>Let’s use the same notion we described as above for morphisms, and use the same name $\mathsf{Grph}$. Okay, now this is a nice category. I can visualize its objects easily, its got a concrete mathematical description, and its got some nice morphisms. So let’s see how to compute some limits and colimits here.</p>

<p>Now if you check the <a href="https://ncatlab.org/nlab/show/category+of+simple+graphs" rel="external nofollow noopener" target="_blank">nlab page for simple graphs</a>, you’ll see a fancy result identifying $\mathsf{Grph}$ as a Grothendieck quasitopos, which is a very nice category. For this post, let’s just do things by hand to get a feel for this category. But from this abstract result, we know that $\mathsf{Grph}$ has all limits, colimits and be cartesian closed.</p>

<p>First off, lets notice there is a nice functor $V : \mathsf{Grph} \to \mathbf{Set}$ that sends a graph to its set of vertices. If I have a map of graphs, then I get a map of their corresponding sets of vertices. This functor has a left adjoint $F : \mathbf{Set} \to \mathsf{Grph}$ that sends a set $S$ to the graph $F(S)$, which has $V(F(S)) = S$ and $E(F(S)) = \varnothing$<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup>. In other words $F(S)$ is the <strong>discrete graph</strong> on the set $S$.</p>

<p>Okay, so $V$ is a right adjoint, so that means it preserves whatever limits exist in $\mathsf{Grph}$, and we know what limits in $\mathbf{Set}$ look like. So if we take a limit $\lim_i G_i$ of graphs, we know that $V(\lim_i G_i) \cong \lim_i V(G_i)$. So that helps us guess what the product of two graphs should be.</p>

<p>Given graphs $G$ and $H$, let $G \times H$ denote the graph with $V(G \times H) = V(G) \times V(H)$ and $E(G \times H) \subseteq V(G \times H)^2$ is the relation where $(g,h) \sim_{G \times H} (g’,h’)$ if $g \sim_G g’$ and $h \sim_H h’$. There are maps $\pi_G : G \times H \to G$ in $\mathsf{Grph}$, with $\pi_G(g,h) = g$ and $\pi_H : G \times H \to H$, with $\pi_H(g,h) = h$.</p>

<p><strong>Lemma</strong>: $G \times H$ is the product of $G$ and $H$ in the category $\mathsf{Grph}$.</p>

<p><strong>Proof</strong>: Suppose that we have maps $g : Q \to G$ and $h: Q \to H$. We want to define a map $k : Q \to G \times H$ such that $\pi_G k = g$ and $\pi_H k = h$. Let $k(q) = (g(q), h(q))$. Now this is a map of graphs, because if $q \sim q’$, then $g(q) \sim g(q’)$ and $h(q) \sim h(q’)$ since $g$ and $h$ are maps of graphs, and so $k(q) = (g(q), h(q)) \sim (g(q’),h(q’)) = k(q’)$. It is easy to check that this is the unique map such that $\pi_G k = g$ and $\pi_H k = h$, and hence is the categorical product. $\square$</p>

<p>Now let us try coproducts.</p>

<hr>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>In this reference, all of these examples of graphs are derived from a more general structure, which they call a <em>conceptual graph</em>. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>See Riehl’s <a href="https://math.jhu.edu/~eriehl/context.pdf" rel="external nofollow noopener" target="_blank">Category Theory in Context</a> Proposition 3.3.9 for a more precise description of what I mean. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p>Technically it should be $E(F(S)) = \Delta_{S}$, the diagonal, i.e. the set $\Delta_S = { (s, s) \in S \times S }$ since we are asking for the edge relation to be reflexive, but going forward, let’s just ignore these “ghost edges.” <a href="#fnref:3" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>

    </div>
  </article>
</div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2024 Emilio  Minichiello. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>.
Last updated: July 23, 2024.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
